<launch>
  <!-- "camera" should uniquely identify the device. All topics are pushed down
       into the "camera" namespace, and it is prepended to tf frame ids. -->
  <arg name="camera"      default="camera"/>
  <arg name="publish_tf"  default="false"/>
  <!-- Factory-calibrated depth registration -->
  <arg name="depth_registration"              default="true"/>
  <arg     if="$(arg depth_registration)" name="depth" value="depth_registered" />
  <arg unless="$(arg depth_registration)" name="depth" value="depth" />

  <!-- Processing Modules -->
  <arg name="rgb_processing"                  default="true"/>
  <arg name="ir_processing"                   default="true"/>
  <arg name="depth_processing"                default="true"/>
  <arg name="depth_registered_processing"     default="true"/>
  <arg name="disparity_processing"            default="true"/>
  <arg name="disparity_registered_processing" default="true"/>
  <arg name="scan_processing"                 default="true"/>

  <!-- Worker threads for the nodelet manager -->
  <arg name="num_worker_threads" default="4" />

  <include file="$(find kinect2_bridge)/launch/kinect2_bridge.launch">

    <!--
    <arg name="camera"                          value="$(arg camera)"/>                             
    <arg name="publish_tf"                      value="$(arg publish_tf)"/>                         
    <arg name="depth_registration"              value="$(arg depth_registration)"/>                 
    <arg name="num_worker_threads"              value="$(arg num_worker_threads)" />                
    -->

    <!-- Processing Modules                                                                      
    <arg name="rgb_processing"                  value="$(arg rgb_processing)"/>                     
    <arg name="ir_processing"                   value="$(arg ir_processing)"/>                      
    <arg name="depth_processing"                value="$(arg depth_processing)"/>                   
    <arg name="depth_registered_processing"     value="$(arg depth_registered_processing)"/>        
    <arg name="disparity_processing"            value="$(arg disparity_processing)"/>               
    <arg name="disparity_registered_processing" value="$(arg disparity_registered_processing)"/>    
     -->
    <arg name="base_name"         value="$(arg camera)"/>
    <arg name="sensor"            value=""/>
    <arg name="publish_tf"        value="$(arg publish_tf)"/>
    <arg name="base_name_tf"      value="$(arg camera)"/>
    <arg name="fps_limit"         value="-1.0"/>
    <arg name="calib_path"        value="$(find kinect2_bridge)/data/"/>
    <arg name="use_png"           value="false"/>
    <arg name="jpeg_quality"      value="90"/>
    <arg name="png_level"         value="1"/>
    <arg name="depth_method"      value="default"/>
    <arg name="depth_device"      value="-1"/>
    <arg name="reg_method"        value="default"/>
    <arg name="reg_device"        value="-1"/>
    <arg name="max_depth"         value="12.0"/>
    <arg name="min_depth"         value="0.1"/>
    <arg name="queue_size"        value="5"/>
    <arg name="bilateral_filter"  value="true"/>
    <arg name="edge_aware_filter" value="true"/>
    <arg name="worker_threads"    value="$(arg num_worker_threads)"/>


</include>
</launch>
